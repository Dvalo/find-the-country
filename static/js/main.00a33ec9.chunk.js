(this["webpackJsonpfind-the-country"]=this["webpackJsonpfind-the-country"]||[]).push([[0],{60:function(t,n,e){},61:function(t,n,e){"use strict";e.r(n);var c=e(1),r=e(0),o=e.n(r),i=e(6),a=e.n(i),s=e(5);function u(t,n){s.b.success("You have guessed ".concat(t," country, adding ").concat(n," ").concat(n>1?"coins":"coin"," to your account!"))}var l=e(25),d=e(26),p=e(3),f=function(t){return{type:"DEDUCT",payload:t}},b=e(4),h=e.n(b),g=e(7),y=e(14),j=e.n(y),x="https://restcountries.com/v3.1",v={getAll:function(){var t=Object(g.a)(h.a.mark((function t(){var n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.a.get("".concat(x,"/all"));case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),getByCC:function(){var t=Object(g.a)(h.a.mark((function t(n){var e;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.a.get("".concat(x,"/alpha/").concat(n));case 2:return e=t.sent,t.abrupt("return",e.data);case 4:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}()};e(24);var O=Object(p.b)((function(t){return{coins:t.coins,country:t.currentCountry}}),(function(t){return{addCoins:function(n){return t(function(t){return{type:"ADD",payload:t}}(n))},deductCoins:function(n){return t(f(n))}}}))((function(t){var n=t.country,e=t.newRound,r=t.addCoins,o=t.deductCoins;return Object(c.jsx)("div",{className:"game-map",children:Object(c.jsx)(l.VectorMap,{map:d,backgroundColor:"transparent",zoomOnScroll:!0,style:{width:"100%",height:"calc(100vh - 135px)"},onRegionTipShow:function(t){return t.preventDefault()},onRegionClick:function(t,c){"94c"===c&&(c="US"),c===n.cca2?n.population<1e7&&n.area<21e4?(u("hard difficulty",10),r(10)):(u("easy difficulty",3),r(3)):(s.b.error("You chose the wrong country, deducting 1 coin!"),o(1)),e()},containerClassName:"map",regionStyle:{initial:{fill:"#222230","fill-opacity":1},hover:{"fill-opacity":.7,cursor:"cursor"}}})})}));var m=function(t){var n=t.text,e=t.used,r=t.getHint,o=t.type;return Object(c.jsx)("div",{className:"hint-btn hint-".concat(o," ")+(e?"used":"avail"),onClick:function(){return r(o)},children:n})};var C=function(t){var n=t.text,e=t.hint,r=t.type;return Object(c.jsx)("div",{className:"go-block go-block--".concat(r),children:"flag"!==r?Object(c.jsxs)(c.Fragment,{children:[n,": ",Object(c.jsx)("span",{children:e})]}):Object(c.jsx)("img",{src:e,alt:"country flag",width:90,height:50})})},T={continent:{type:"continent",displayText:"Continent",btnText:"Get Continent",cost:1},bordering:{type:"bordering",displayText:"Bordering Countries",btnText:"Get bordering countries",cost:4},capital:{type:"capital",displayText:"Capital city",btnText:"Get capital city",cost:1},flag:{type:"flag",displayText:"",btnText:"Get flag",cost:10}};var w=Object(p.b)((function(t){return{coins:t.coins,hints:t.hints,countries:t.countries,country:t.currentCountry}}),(function(t){return{deductCoins:function(n){return t(f(n))},completeHint:function(n){return t(function(t){return{type:"USE_HINT",hint:t}}(n))}}}))((function(t){var n=t.countries,e=t.country,r=t.coins,o=t.deductCoins,i=t.hints,a=t.completeHint,u=e.borders&&e.borders.length>0,l=e.capital&&e.capital.length>0,d=e.continents&&e.continents.length>0,p=e.flags.svg||e.flags.png,f=d?e.continents.join(", "):null,b=l?e.capital.join(", "):null,h=u?e.borders.map((function(t){return function(t,n){return t.filter((function(t){return t.cca3===n}))[0].name.common}(n,t)})).join(", "):null;function g(t){var n,e,c=T.bordering,i=T.capital,l=T.flag;if(t===T.continent.type||t===c.type||t===i.type||t===l.type){if(r>=T[t].cost)return t!==c.type||u?(a(T[t].type),o(T[t].cost),n="'".concat(T[t].btnText,"'"),e=T[t].cost,void s.b.info("You have used ".concat(n," Hint, deducting ").concat(e," ").concat(e>1?"coins":"coin","!"))):(a(T[t].type),void s.b.info("This country does not have any bordering countries."));s.b.error("You don't have enough coins to use this hint.")}}return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(s.a,{position:"bottom-right",autoClose:2500,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,pauseOnHover:!0}),Object.keys(e).length>0&&Object(c.jsx)("header",{className:"game-header",children:Object(c.jsxs)("div",{className:"gh-wrapper",children:[Object(c.jsxs)("div",{className:"game-block-wrapper game-objective",children:[Object(c.jsxs)("div",{className:"go-block go-block--country",children:["Find: ",Object(c.jsx)("span",{children:e.name.common})]}),i.flag&&Object(c.jsx)(C,{hint:p,type:T.flag.type}),i.continent&&Object(c.jsx)(C,{text:T.continent.displayText,hint:f,type:T.continent.type}),i.capital&&Object(c.jsx)(C,{text:T.capital.displayText,hint:b,type:T.capital.type}),i.bordering&&u&&Object(c.jsx)(C,{text:T.bordering.displayText,hint:h,type:T.bordering.type})]}),Object(c.jsxs)("div",{className:"game-block-wrapper game-details",children:[Object(c.jsxs)("div",{className:"gd-coins",children:["Coins: ",Object(c.jsx)("span",{children:r})]}),Object(c.jsxs)("div",{className:"gd-hint",children:[Object(c.jsx)(m,{text:T.continent.btnText,used:i.continent,getHint:g,type:T.continent.type}),Object(c.jsx)(m,{text:T.bordering.btnText,used:i.bordering,getHint:g,type:T.bordering.type}),Object(c.jsx)(m,{text:T.capital.btnText,used:i.capital,getHint:g,type:T.capital.type}),Object(c.jsx)(m,{text:T.flag.btnText,used:i.flag,getHint:g,type:T.flag.type})]})]})]})})]})}));var E=Object(p.b)((function(t){return{countries:t.countries,currentCountry:t.currentCountry}}),(function(t){return{resetHints:function(){return t({type:"RESET"})},setAllCountries:function(n){return t(function(){var t=Object(g.a)(h.a.mark((function t(n){var e;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.getAll();case 2:e=t.sent,n({type:"SET_ALL_COUNTRIES",payload:e});case 4:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}())},setCurrentCountry:function(n){return t(function(t){return{type:"SET_CURRENT_COUNTRY",payload:t}}(n))}}}))((function(t){var n=t.countries,e=t.resetHints,o=t.setAllCountries,i=t.currentCountry,a=t.setCurrentCountry;Object(r.useEffect)((function(){o()}),[]),Object(r.useEffect)((function(){n.length>0&&s()}),[n]);var s=function(){for(var t=n[Math.floor(Math.random()*n.length)];t.area<14500&&t.population<1e6;)t=n[Math.floor(Math.random()*n.length)];a(t)};return Object(c.jsx)(c.Fragment,{children:Object.keys(i).length>0&&Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(w,{}),Object(c.jsx)(O,{newRound:function(){s(),e()}},i.name.common)]})})})),N=function(t){t&&t instanceof Function&&e.e(3).then(e.bind(null,62)).then((function(n){var e=n.getCLS,c=n.getFID,r=n.getFCP,o=n.getLCP,i=n.getTTFB;e(t),c(t),r(t),o(t),i(t)}))},k=e(8),S=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"ADD":return t+n.payload;case"DEDUCT":return t-n.payload;default:return t}},R=e(11),H=e(15),U={continent:!1,bordering:!1,capital:!1,flag:!1},D=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"USE_HINT":return Object(H.a)(Object(H.a)({},t),{},Object(R.a)({},n.hint,!0));case"RESET":return U;default:return t}},F=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"SET_ALL_COUNTRIES":return n.payload;default:return t}},_=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"SET_CURRENT_COUNTRY":return n.payload;default:return t}},A=Object(k.b)({coins:S,hints:D,countries:F,currentCountry:_}),L=e(28),I=Object(k.c)(A,{},Object(k.a)(L.a));e(60);a.a.render(Object(c.jsx)(o.a.StrictMode,{children:Object(c.jsx)(p.a,{store:I,children:Object(c.jsx)(E,{})})}),document.getElementById("root")),N()}},[[61,1,2]]]);
//# sourceMappingURL=main.00a33ec9.chunk.js.map